{% extends 'admin_index.html' %}
{% load static %}

{% block content %}
<div class="container py-4">

  <!-- Page Title (Top Title) -->
  <!-- <h2 class="text-center fw-bold page-title mb-4">All Orders</h2> -->

  <!-- Card wrapper -->
  <div class="custom-card shadow-lg p-4">

    <!-- Page Title (Top Title) -->
  <h2 class="text-center fw-bold page-title mb-4">All Orders</h2>
    <div class="table-responsive">
      <table class="table table-bordered table-striped table-hover align-middle text-center">
        
        <thead class="table-header">
          <tr>
            <th>#</th>
            <th>User</th>
            <th>Order Date</th>
            <th>Status</th>
            <th>Total Amount</th>
            <th>Actions</th>
          </tr>
        </thead>

        <tbody>
          {% for order in orders %}
          <tr>
            <td>{{ forloop.counter }}</td>
            <td class="fw-semibold">{{ order.user.username }}</td>
            <td>{{ order.order_date|date:"d M Y, h:i A" }}</td>

            <!-- Status Badge -->
            <td>
              {% if order.status == 'order on the way' %}
                <span class="status-badge bg-info-custom">{{ order.status }}</span>
              {% elif order.status == 'order delivered' %}
                <span class="status-badge bg-success-custom">{{ order.status }}</span>
              {% elif order.status == 'order cancelled' %}
                <span class="status-badge bg-danger-custom">{{ order.status }}</span>
              {% elif order.status == 'order placed' %}
                <span class="status-badge bg-primary-custom">{{ order.status }}</span>
              {% else %}
                <span class="status-badge bg-secondary-custom">{{ order.status }}</span>
              {% endif %}
            </td>

            <td class="fw-bold">₹{{ order.total_amount }}</td>

            <td>
              <a href="{% url 'admin_order_detail' order.id %}"
                 class="btn btn-action">
                View Details
              </a>
            </td>
          </tr>

          {% empty %}
          <tr>
            <td colspan="6" class="text-muted py-3">No orders found.</td>
          </tr>
          {% endfor %}
        </tbody>

      </table>
    </div>

  </div>
</div>

<!-- ===================== CSS Styling ====================== -->
<style>
/* Page Title */
.page-title {
  color: #023e8a;
  font-size: 30px;
}

/* Card Style */
.custom-card {
  background: #ffffff;
  border-radius: 16px;
  border-left: 5px solid #0077b6;
  transition: 0.3s ease;
}
.custom-card:hover {
  border-left-color: #03045e;
}

/* ⭐ Centered Card Heading */
.card-heading {
  font-size: 24px;
  font-weight: 700;
  color: #0077b6;
  text-align: center;
  border-bottom: 2px solid #ade8f4;
  padding-bottom: 10px;
  margin-bottom: 25px;
}

/* Table Header */
.table-header {
  background: #0077b6;
  color: #fff;
  font-size: 15px;
}

/* Table hover */
table.table-hover tbody tr:hover {
  background-color: #f2f9ff;
}

/* Status Badges */
.status-badge {
  padding: 6px 12px;
  border-radius: 12px;
  font-size: 12px;
  font-weight: 600;
  text-transform: capitalize;
}

/* Badge Colors */
.bg-info-custom { background: #caf0f8; color: #023e8a; }
.bg-success-custom { background: #d8f3dc; color: #1b4332; }
.bg-danger-custom { background: #ffe5e5; color: #d00000; }
.bg-primary-custom { background: #e1f3ff; color: #005f99; }
.bg-secondary-custom { background: #ececec; color: #6c757d; }

/* Action Button */
.btn-action {
  background-color: #0096c7;
  color: white;
  padding: 5px 12px;
  border-radius: 8px;
  font-size: 13px;
  transition: 0.2s;
}
.btn-action:hover {
  background-color: #0077b6;
}
</style>

{% endblock %}
